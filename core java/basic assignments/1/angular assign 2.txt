import { convertUpdateArguments } from '@angular/compiler/src/compiler_util/expression_converter';
import { Component, OnInit } from '@angular/core';
import { ActivatedRoute, ParamMap, Router } from '@angular/router';
import { User } from '../user';


@Component({
  selector: 'app-advertisementform',
  templateUrl: './advertisementform.component.html',
  styleUrls: ['./advertisementform.component.css']
})

export class AdvertisementformComponent implements OnInit {


categories=['furniture','hardware','mobile']



u=new User('','','','');
 array = new Array();
b=this.u;

onsubmit(val: any)
{
  console.log(val);
  this.array.push(val);
}
  constructor(private route:Router,private router:ActivatedRoute) { }

  showall()
  {
    for(let a of this.array)
    console.log(a);
    console.log(this.array.length);
  }

  ngOnInit(): void {

    
  
}
length(){
  console.log(this.array.length);
}
 
 delete(id:string){
  this.array = this.array.filter( h => h.id !== id);
 
     console.log(this.array.length);}
 
 edit(obj: any,index: any){
console.log(obj);
this.u.id=obj.id;
this.u.name=obj.name;
this.u.category=obj.category;
this.u.description=obj.description;


 }
update(obj:any)
{
obj.id=this.u.id;
obj.name=this.u.name;
obj.category=this.u.category;
obj.description=this.u.description;
}
}








<div class="container-fluid">
    <h1>new form</h1>
    <form  #userform="ngForm"    (ngSubmit)="onsubmit(userform.value)">


<hr>


<div class="form-group">
  <label>name</label>
  <input type="text" class="form-control"   name="id" [(ngModel)]='u.id'>

</div>
<div class="form-group">
    <label>name</label>
    <input type="text" class="form-control"   name="user" [(ngModel)]='u.name'>

</div>


<div class="form-group">
    <select name="category" [(ngModel)]='u.category'  class="custom-select">
        <option selected>i am selecting</option>
        <option *ngFor="let category of categories">{{category}}</option>
    </select>
</div>

<div class="form-group">
    <label>description
    </label>
    <input type="text" class="form-control" name="description" [(ngModel)]='u.description' >
    
</div>

<button class="btn btn-primary"  type="submit">add</button>





    </form>

</div>



<table >
    <thead>
      <tr>
     
        <th scope="col">Name</th>
        <th scope="col">category</th>
        <th scope="col">description</th>      
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let a of  array; let j=index">
        <td>{{a.id}}</td>
       <td>{{a.name}}</td>
       <td>{{a.category}}</td> 
       <td>{{ a.description}}</td>
       <button (click)="delete(a.id)">delete</button>
       <button (click)="edit(a,j)">edit</button>
       <button (click)="update(a)">update</button>
     
      </tr>
    </tbody>
  </table>


  






